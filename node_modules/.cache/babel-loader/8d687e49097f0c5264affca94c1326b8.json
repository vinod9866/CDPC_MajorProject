{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useNavigate } from \"react-router-dom\";\nimport AuthContext from \"../auth-context\";\nimport { useContext } from \"react\";\nexport function Loginservice(User, Pswd) {\n  _s();\n\n  const navigate = useNavigate();\n  const authCtx = useContext(AuthContext);\n  fetch(\"http://3.12.85.141/oauth/token?grant_type=password&username=\" + User + \"&password=\" + Pswd + \"\", {\n    method: \"POST\",\n    headers: {\n      Authorization: \"Basic Y2xpZW50OnBhc3N3b3Jk\"\n    }\n  }).then(res => {\n    if (res.ok) {\n      //  setState(true);\n      navigate(\"/all\", {\n        replace: true\n      });\n      return res.json();\n    } else {\n      return res.json().then(data => {\n        if (data && data.error && data.error_description) {// setState(false);\n        }\n      });\n    }\n  }).then(data => {\n    console.log(data.access_token);\n    authCtx.login(data.access_token);\n  });\n}\n\n_s(Loginservice, \"ssUczo1iMAKrnDD4MNy/fEQR/4A=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Loginservice;\n\nvar _c;\n\n$RefreshReg$(_c, \"Loginservice\");","map":{"version":3,"sources":["C:/Users/vinnu/Documents/react/my-app/src/auth/service.js"],"names":["useNavigate","AuthContext","useContext","Loginservice","User","Pswd","navigate","authCtx","fetch","method","headers","Authorization","then","res","ok","replace","json","data","error","error_description","console","log","access_token","login"],"mappings":";;AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,OAAOC,WAAP,MAAwB,iBAAxB;AACA,SAASC,UAAT,QAA2B,OAA3B;AAGA,OAAO,SAASC,YAAT,CAAsBC,IAAtB,EAA4BC,IAA5B,EAAkC;AAAA;;AACnC,QAAMC,QAAQ,GAAGN,WAAW,EAA5B;AACA,QAAMO,OAAO,GAAGL,UAAU,CAACD,WAAD,CAA1B;AAGAO,EAAAA,KAAK,CACD,iEACEJ,IADF,GAEE,YAFF,GAGEC,IAHF,GAIE,EALD,EAMD;AACEI,IAAAA,MAAM,EAAE,MADV;AAEEC,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAE;AADR;AAFX,GANC,CAAL,CAYIC,IAZJ,CAYUC,GAAD,IAAS;AACZ,QAAIA,GAAG,CAACC,EAAR,EAAY;AACZ;AACCR,MAAAA,QAAQ,CAAC,MAAD,EAAQ;AAACS,QAAAA,OAAO,EAAC;AAAT,OAAR,CAAR;AACC,aAAOF,GAAG,CAACG,IAAJ,EAAP;AAED,KALD,MAKO;AACL,aAAOH,GAAG,CAACG,IAAJ,GAAWJ,IAAX,CAAiBK,IAAD,IAAU;AAC/B,YAAIA,IAAI,IAAIA,IAAI,CAACC,KAAb,IAAsBD,IAAI,CAACE,iBAA/B,EAAkD,CACjD;AACA;AACF,OAJM,CAAP;AAKD;AACF,GAzBL,EA0BKP,IA1BL,CA0BWK,IAAD,IAAU;AACdG,IAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAI,CAACK,YAAjB;AACAf,IAAAA,OAAO,CAACgB,KAAR,CAAcN,IAAI,CAACK,YAAnB;AACD,GA7BL;AA8BL;;GAnCenB,Y;UACOH,W;;;KADPG,Y","sourcesContent":["import { useNavigate } from \"react-router-dom\";\r\nimport AuthContext from \"../auth-context\";\r\nimport { useContext } from \"react\";\r\n\r\n\r\nexport function Loginservice(User, Pswd) {\r\n      const navigate = useNavigate();\r\n      const authCtx = useContext(AuthContext);\r\n\r\n\r\n      fetch(\r\n          \"http://3.12.85.141/oauth/token?grant_type=password&username=\" +\r\n            User +\r\n            \"&password=\" +\r\n            Pswd +\r\n            \"\",\r\n          {\r\n            method: \"POST\",\r\n            headers: {\r\n              Authorization: \"Basic Y2xpZW50OnBhc3N3b3Jk\",\r\n            },\r\n          }\r\n        ).then((res) => {\r\n            if (res.ok) {\r\n            //  setState(true);\r\n             navigate(\"/all\",{replace:true});\r\n              return res.json();\r\n\r\n            } else {\r\n              return res.json().then((data) => {\r\n                if (data && data.error && data.error_description) {\r\n                 // setState(false);\r\n                }\r\n              });\r\n            }\r\n          })\r\n          .then((data) => {\r\n            console.log(data.access_token);\r\n            authCtx.login(data.access_token);\r\n          });\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}